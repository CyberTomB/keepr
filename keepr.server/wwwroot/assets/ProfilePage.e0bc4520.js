import{a,D as e,c as t,$ as s,p as l,h as i,E as o,G as r,e as n,o as c,b as d,d as u,t as p,l as f,F as g,q as m,j as v,m as y}from"./vendor.9dd95e55.js";import{a as k,l as w,A as h,P,v as C,k as B}from"./index.cb3e84ed.js";const K=new class{async getProfile(a){try{const e=await k.get("/api/profiles/"+a);w.log(e.data),h.profile=e.data}catch(e){w.error("Profile",e),P.toast(e,"error")}}};const V={setup(){const l=a({loading:!1}),i=o(),n=r();return e((async()=>{l.loading=!0,await K.getProfile(n.params.id),await C.getAllByProfile(n.params.id),await B.getAllByProfile(n.params.id),l.loading=!1})),{state:l,router:i,route:n,routeId:t((()=>n.params.id)),profile:t((()=>h.profile)),vaults:t((()=>h.vaults)),keeps:t((()=>h.keeps)),getModal(a){s(a).modal("toggle")},showCreateButtons:t((()=>h.account.id===n.params.id))}},watch:{routeId:async function(a,e){e!==a&&"Profile"===this.route.name&&(w.log("route info:",this.route.name),this.state.loading=!0,await K.getProfile(a),await C.getAllByProfile(a),await B.getAllByProfile(a),this.state.loading=!1)}}},A=v();l("data-v-67a48f89");const M={key:0,class:"container"},j={key:1,class:"container"},x={class:"row justify-content-start py-3"},I={class:"col-12 profile-name"},b={id:"profile-details"},_={id:"profile-name"},q=u("br",null,null,-1),D={class:"row py-2"},E={class:"col-12"},F=y(" Vaults "),G={class:"col-12 card-columns"},L={class:"row py-2"},z={class:"col-12"},H=y(" Keeps "),J={class:"col-12 card-columns",id:"keeps"};i();const N=A(((a,e,t,s,l,i)=>{const o=n("CreateKeepModal"),r=n("CreateVaultModal"),v=n("VaultPreviewCard"),y=n("KeepCard");return s.state.loading?(c(),d("div",M," Loading... ")):(c(),d("div",j,[u(o),u(r),u("div",x,[u("div",I,[u("img",{src:s.profile.picture,alt:"Profile Image",title:s.profile.name,id:"profile-img"},null,8,["src","title"]),u("div",b,[u("h1",_,p(s.profile.name),1),u("span",null,"Vaults: "+p(s.vaults.length),1),q,u("span",null,"Keeps: "+p(s.keeps.length),1)])])]),u("div",D,[u("h1",E,[F,s.showCreateButtons?(c(),d("span",{key:0,class:"mdi mdi-plus-circle-outline text-success action",onClick:e[1]||(e[1]=a=>s.getModal("#createVault")),title:"Create Vault"})):f("",!0)]),u("div",G,[(c(!0),d(g,null,m(s.vaults,(a=>(c(),d(v,{key:a.id,vault:a},null,8,["vault"])))),128))])]),u("div",L,[u("h1",z,[H,s.showCreateButtons?(c(),d("span",{key:0,class:"mdi mdi-plus-circle-outline text-success action",title:"Create Keep",onClick:e[2]||(e[2]=a=>s.getModal("#createKeep"))})):f("",!0)]),u("div",J,[(c(!0),d(g,null,m(s.keeps,(a=>(c(),d(y,{key:a.id,keep:a},null,8,["keep"])))),128))])])]))}));V.render=N,V.__scopeId="data-v-67a48f89";export default V;
